<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>jsGrid - Basic Scenario</title>
<link rel="stylesheet" type="text/css" href="demos.css" />
<link
	href='http://fonts.googleapis.com/css?family=Open+Sans:300,600,400'
	rel='stylesheet' type='text/css'>




<script src="js/legend.js"></script>
<script src="js/Chart.js"></script>

<script src="js/dashboard.js"></script>


<style type='text/css'>
.charts-legend li span {
	display: inline-block;
	width: 12px;
	height: 12px;
	margin-right: 5px;
}
</style>



</head>
<body>
	<div>
		<form class="form-horizontal" role="form">

			<div>
				<div class="row">
					<div class="col-md-8"></div>
					<div class="col-md-8 " style="margin-top: 10px;">
						<div class="panel panel-default">
							<div class="panel-heading clearfix">
								<h1 class="panel-title pull-left">My Recently Edited
									Policies</h1>

							</div>
							<div class="panel-body">
								<div id="myRecentPolicies"></div>
							</div>
						</div>
					</div>
					<div class="col-md-4" style="padding-left: 100px;">
						<div style="width: 100%; height: 100%;">
							<canvas id="chart" width="250" height="300"></canvas>
						</div>
						<div id="canvasLegend" class="charts-legend"></div>
					</div>
				</div>

				<div>
					<div class="row">
						<div class="col-md-8"></div>
						<div class="col-md-8 " style="margin-top: 10px;">
							<div class="panel panel-default">
								<div class="panel-heading clearfix">
									<h1 class="panel-title pull-left">Others Recently Edited
										Policies</h1>

								</div>
								<div class="panel-body">
									<div id="otherRecentlyEditedPolicy"></div>
								</div>
							</div>
						</div>
						<div class="col-md-4"></div>
					</div>

					<div class="row">
						<div class="col-md-8"></div>
						<div class="col-md-8 " style="margin-top: 10px;">
							<div class="panel panel-default">
								<div class="panel-heading clearfix">
									<h1 class="panel-title pull-left">Newly Imported Images</h1>
								</div>
								<div class="panel-body">
									<div id="newlyImportedImages"></div>
								</div>
							</div>
						</div>
						<div class="col-md-4"></div>
					</div>
				</div>

				<div>
					<div class="row">
						<div class="col-md-8"></div>
						<div class="col-md-8 " style="margin-top: 10px;">
							<div class="panel panel-default">
								<div class="panel-heading clearfix">
									<h1 class="panel-title pull-left">Images Ready To Deploy</h1>
								</div>
								<div class="panel-body">
									<div id="imagesReadyToDeploy"></div>
								</div>
							</div>
						</div>
						<div class="col-md-4"></div>
					</div>
				</div>

				<div>
					<div class="row">
						<div class="col-md-8"></div>
						<div class="col-md-8 " style="margin-top: 10px;">
							<div class="panel panel-default">
								<div class="panel-heading clearfix">
									<h1 class="panel-title pull-left">Recently Deployed Images</h1>
								</div>
								<div class="panel-body">
									<div id="recentlyDeployedImages"></div>
								</div>
							</div>
						</div>
						<div class="col-md-4"></div>
					</div>
				</div>

				<div>
					<div class="row">
						<div class="col-md-8"></div>
						<div class="col-md-8 " style="margin-top: 10px;">
							<div class="panel panel-default">
								<div class="panel-heading clearfix">
									<h1 class="panel-title pull-left">Upload In Progress</h1>
									<div class="btn-group pull-right"></div>
								</div>
								<div class="panel-body">
									<div id="uploadProgress"></div>
								</div>
							</div>
						</div>
						<div class="col-md-4"></div>
					</div>
				</div>

			</div>
		</form>
	</div>


	<script type="text/javascript">
		var myPieChart = document.getElementById('chart').getContext("2d");
		var canvas_legend = document.getElementById("canvasLegend");

		function loadPage() {
			$.ajax({
				type : "GET",
				data : "",
				url : "http://localhost:8080/v1/dashboard/pieChart",
				dataType : "json",
				cache : false,
				success : function(response) {

					console.log(response);
					var options = {
						segmentShowStroke : false,
						animateRotate : true,
						animateScale : false,
						percentageInnerCutout : 50,
						showTooltips: false
					};
					var pieChart = new Chart(myPieChart).Pie(response);
					canvas_legend.innerHTML = pieChart.generateLegend();
				},
				error : function(response) {
					alert('Error while request..');
				}
			});

		};

		window.onload = loadPage();
	</script>



</body>
</html>